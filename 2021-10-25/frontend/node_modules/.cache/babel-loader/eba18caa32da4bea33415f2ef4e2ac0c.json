{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Gaspar\\\\Desktop\\\\\\xDClikool\\\\2021S\\xFCgis\\\\lessons\\\\2021-10-25\\\\frontend\\\\src\\\\pages\\\\EditItem.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction EditItem() {\n  _s();\n\n  const [item, setItem] = useState(null);\n  const nameInputRef = useRef();\n  const priceInputRef = useRef();\n  const categoryInputRef = useRef();\n  const itemId = window.location.href.split(\"/edit-item/\")[1];\n  console.log(itemId); //useeffect on selleks, et ei loopiks fetchimist lõpmatuseni.\n\n  useEffect(() => {\n    fetch(\"http://localhost:8080/view-item/\" + itemId).then(response => {\n      return response.json();\n    }).then(data => {\n      console.log(data);\n      setItem(data);\n    });\n  }, []);\n\n  if (!item) {\n    return \"Loading...\";\n  }\n\n  function formSubmitHandler(e) {\n    e.preventDefault();\n    const nameValue = nameInputRef.current.value;\n    const priceValue = priceInputRef.current.value;\n    const categoryValue = categoryInputRef.current.value;\n    const itemSubmitted = {\n      name: nameValue,\n      price: priceValue,\n      category: categoryValue\n    };\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: formSubmitHandler,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Eseme nimi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 38\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      required: true,\n      defaultValue: item.name,\n      ref: nameInputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 87\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Eseme hind\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 38\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      required: true,\n      defaultValue: item.price,\n      ref: priceInputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 91\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Eseme kategooria\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 44\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      required: true,\n      defaultValue: item.category,\n      ref: categoryInputRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 95\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Sisesta uus ese\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n}\n\n_s(EditItem, \"bO66rsZ2glV6b8L108HIE+8DAnc=\");\n\n_c = EditItem;\nexport default EditItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditItem\");","map":{"version":3,"sources":["C:/Users/Gaspar/Desktop/Ülikool/2021Sügis/lessons/2021-10-25/frontend/src/pages/EditItem.js"],"names":["useEffect","useState","useRef","EditItem","item","setItem","nameInputRef","priceInputRef","categoryInputRef","itemId","window","location","href","split","console","log","fetch","then","response","json","data","formSubmitHandler","e","preventDefault","nameValue","current","value","priceValue","categoryValue","itemSubmitted","name","price","category"],"mappings":";;;AAAA,SAAQA,SAAR,EAAmBC,QAAnB,EAA6BC,MAA7B,QAA0C,OAA1C;;;AAEA,SAASC,QAAT,GAAmB;AAAA;;AACf,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAAC,IAAD,CAAhC;AACA,QAAMK,YAAY,GAAGJ,MAAM,EAA3B;AACA,QAAMK,aAAa,GAAGL,MAAM,EAA5B;AACA,QAAMM,gBAAgB,GAAGN,MAAM,EAA/B;AAGA,QAAMO,MAAM,GAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,aAA3B,EAA0C,CAA1C,CAAf;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYN,MAAZ,EARe,CAUf;;AACAT,EAAAA,SAAS,CAAC,MAAI;AACVgB,IAAAA,KAAK,CAAC,qCAAqCP,MAAtC,CAAL,CAAmDQ,IAAnD,CAAwDC,QAAQ,IAAI;AAChE,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAFD,EAEGF,IAFH,CAEQG,IAAI,IAAI;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAYK,IAAZ;AACAf,MAAAA,OAAO,CAACe,IAAD,CAAP;AACH,KALD;AAMH,GAPQ,EAOP,EAPO,CAAT;;AASA,MAAI,CAAChB,IAAL,EAAW;AACP,WAAO,YAAP;AACH;;AAED,WAASiB,iBAAT,CAA2BC,CAA3B,EAA8B;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,SAAS,GAAGlB,YAAY,CAACmB,OAAb,CAAqBC,KAAvC;AACA,UAAMC,UAAU,GAAGpB,aAAa,CAACkB,OAAd,CAAsBC,KAAzC;AACA,UAAME,aAAa,GAAGpB,gBAAgB,CAACiB,OAAjB,CAAyBC,KAA/C;AACA,UAAMG,aAAa,GAAG;AAClBC,MAAAA,IAAI,EAAEN,SADY;AAElBO,MAAAA,KAAK,EAAEJ,UAFW;AAGlBK,MAAAA,QAAQ,EAAEJ;AAHQ,KAAtB;AAKH;;AACD,sBACI;AAAM,IAAA,QAAQ,EAAEP,iBAAhB;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAC6B;AAAA;AAAA;AAAA;AAAA,YAD7B,eAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,MAA3B;AAA4B,MAAA,YAAY,EAAEjB,IAAI,CAAC0B,IAA/C;AAAqD,MAAA,GAAG,EAAExB;AAA1D;AAAA;AAAA;AAAA;AAAA,YAFJ,eAE8E;AAAA;AAAA;AAAA;AAAA,YAF9E,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAHJ,eAG6B;AAAA;AAAA;AAAA;AAAA,YAH7B,eAII;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,QAAQ,MAA7B;AAA8B,MAAA,YAAY,EAAEF,IAAI,CAAC2B,KAAjD;AAAwD,MAAA,GAAG,EAAExB;AAA7D;AAAA;AAAA;AAAA;AAAA,YAJJ,eAIkF;AAAA;AAAA;AAAA;AAAA,YAJlF,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ,eAKmC;AAAA;AAAA;AAAA;AAAA,YALnC,eAMI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,QAAQ,MAA3B;AAA4B,MAAA,YAAY,EAAEH,IAAI,CAAC4B,QAA/C;AAAyD,MAAA,GAAG,EAAExB;AAA9D;AAAA;AAAA;AAAA;AAAA,YANJ,eAMsF;AAAA;AAAA;AAAA;AAAA,YANtF,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAWH;;GA9CQL,Q;;KAAAA,Q;AAgDT,eAAeA,QAAf","sourcesContent":["import {useEffect, useState, useRef} from \"react\";\r\n\r\nfunction EditItem(){\r\n    const [item, setItem] = useState(null);\r\n    const nameInputRef = useRef();\r\n    const priceInputRef = useRef();\r\n    const categoryInputRef = useRef();\r\n\r\n\r\n    const itemId = window.location.href.split(\"/edit-item/\")[1];\r\n    console.log(itemId);\r\n\r\n    //useeffect on selleks, et ei loopiks fetchimist lõpmatuseni.\r\n    useEffect(()=>{\r\n        fetch(\"http://localhost:8080/view-item/\" + itemId).then(response => {\r\n            return response.json();\r\n        }).then(data => {\r\n            console.log(data);\r\n            setItem(data);\r\n        })\r\n    },[])\r\n\r\n    if (!item) {\r\n        return \"Loading...\"\r\n    }\r\n\r\n    function formSubmitHandler(e) {\r\n        e.preventDefault();\r\n        const nameValue = nameInputRef.current.value;\r\n        const priceValue = priceInputRef.current.value;\r\n        const categoryValue = categoryInputRef.current.value;\r\n        const itemSubmitted = {\r\n            name: nameValue,\r\n            price: priceValue,\r\n            category: categoryValue\r\n        }\r\n    }\r\n    return (\r\n        <form onSubmit={formSubmitHandler}>\r\n            <label>Eseme nimi</label><br />\r\n            <input type=\"text\" required defaultValue={item.name} ref={nameInputRef} /><br />\r\n            <label>Eseme hind</label><br />\r\n            <input type=\"number\" required defaultValue={item.price} ref={priceInputRef} /><br />\r\n            <label>Eseme kategooria</label><br />\r\n            <input type=\"text\" required defaultValue={item.category} ref={categoryInputRef} /><br />\r\n            <button>Sisesta uus ese</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default EditItem;"]},"metadata":{},"sourceType":"module"}